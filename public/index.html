<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- <link rel="icon" type="image/png" href="/src/assets/logo12.png" sizes="any" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="icon" type="image/png" href="/favicon.png" sizes="any" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Wyenfos Infotech",
    "url": "https://wyenfosinfotech.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://wyenfosinfotech.com/logo12.png",
      "width": 192,
      "height": 192
    },
    "sameAs": [
      "https://wyenfosinfotech.com"
    ]
  }
</script>
  <title>Wyenfos Infotech</title>
  <!-- <link rel="manifest" href="/public/manifest.json"/> -->
  <!-- <link rel="apple-touch-icon" type="image/png" href="/src/assets//logo12.png" /> -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Ensure the body does not have any top margin/padding from the banner */
    body {
      margin-top: 0 !important;
      padding-top: 0 !important;
    }

    /* Aggressively hide Google Translate banner and its default dropdown */
    .goog-te-banner-frame,
    .skiptranslate.goog-te-gadget,
    html body>.goog-toolbar,
    html body>div[id^="goog-gt-"],
    html body>div.skiptranslate:first-child {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      width: 0 !important;
      min-height: 0 !important;
      line-height: 0 !important;
      font-size: 0 !important;
      border: none !important;
      box-shadow: none !important;
      background: transparent !important;
      z-index: -9999 !important;
    }

    /* Custom styles for your new language selector (as before) */
    .custom-language-selector {
      cursor: pointer;
      color: rgba(0, 0, 0, 0.55);
      padding: 0.5rem 1rem;
      text-decoration: none;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
    }

    .custom-language-selector:hover {
      color: rgba(0, 0, 0, 0.7);
    }

    .language-dropdown-menu {
      position: absolute;
      background-color: white;
      border: 1px solid rgba(0, 0, 0, .15);
      border-radius: .25rem;
      box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .175) !important;
      padding: .5rem 0;
      z-index: 1000;
      min-width: 10rem;
    }

    .language-dropdown-item {
      padding: .25rem 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      color: #212529;
    }

    .language-dropdown-item:hover {
      background-color: #f8f9fa;
      color: #1e2125;
    }

    .language-dropdown-item img {
      width: 20px;
      height: auto;
      border: 1px solid #eee;
    }
  </style>
</head>

<body>
  <img src="./logo12.png" alt="Wyenfos Infotech Logo" style="display:none;" />
  <div id="root"></div>

  <div id="google_translate_element" style="display: none;"></div>

  <script type="text/javascript">
    const hideGoogleTranslateElements = () => {
      const selectorsToHide = [
        '.goog-te-banner-frame',
        'html body > .goog-toolbar',
        'html body > div[id^="goog-gt-"]',
        'html body > div.skiptranslate:first-child',
        '.skiptranslate.goog-te-gadget'
      ];

      selectorsToHide.forEach(selector => {
        document.querySelectorAll(selector).forEach(element => {
          if (element) {
            element.style.setProperty('display', 'none', 'important');
            element.style.setProperty('visibility', 'hidden', 'important');
            element.style.setProperty('height', '0', 'important');
            element.style.setProperty('overflow', 'hidden', 'important');
            element.style.setProperty('position', 'absolute', 'important');
            element.style.setProperty('top', '0', 'important');
            element.style.setProperty('left', '0', 'important');
            element.style.setProperty('width', '0', 'important');
            element.style.setProperty('min-height', '0', 'important');
            element.style.setProperty('line-height', '0', 'important');
            element.style.setProperty('font-size', '0', 'important');
            element.style.setProperty('border', 'none', 'important');
            element.style.setProperty('box-shadow', 'none', 'important');
            element.style.setProperty('background', 'transparent', 'important');
            element.style.setProperty('z-index', '-9999', 'important');
          }
        });
      });
      document.body.style.setProperty('margin-top', '0', 'important');
      document.body.style.setProperty('padding-top', '0', 'important');
    };

    // Google Translate Init function
    function googleTranslateElementInit() {
      new google.translate.TranslateElement(
        {
          pageLanguage: 'en',
          includedLanguages: 'en,gu,hi,kn,ml,mr,pa,ta,te,fr,de,es,zh-CN,ja,ar',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          autoDisplay: false,
          multilanguagePage: true
        },
        'google_translate_element'
      );

      // Initial hiding of the Google Translate UI.
      // We give it a brief moment just in case, but rely heavily on MutationObserver.
      setTimeout(hideGoogleTranslateElements, 100);
    }

    // Load Google Translate script dynamically after React has rendered its initial content.
    // This is a common pattern for third-party scripts that manipulate the DOM.
    window.addEventListener('load', function () {
      // Small delay to ensure the main React app is fully rendered and stable
      setTimeout(() => {
        const script = document.createElement('script');
        script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
        script.async = true;
        document.body.appendChild(script);
      }, 500); // Wait 500ms after window load

      // Also set up a periodic check for hiding elements
      setInterval(hideGoogleTranslateElements, 1500); // Check every 1.5 seconds
    });

    // MutationObserver to catch elements added dynamically by Google Translate
    // This is the most reliable way to hide elements that appear after initial load.
    const observer = new MutationObserver(function (mutations) {
      mutations.forEach(function (mutation) {
        if (mutation.addedNodes.length > 0) {
          // Give a small delay before hiding to ensure the element is fully constructed
          setTimeout(hideGoogleTranslateElements, 50);
        }
      });
    });
    // Observe the entire document body for changes
    observer.observe(document.body, { childList: true, subtree: true });


    // setLanguage function called from your React app
    window.setLanguage = (langCode) => {
      const MAX_RETRIES = 50; // Increased retries further
      let retries = 0;

      const attemptSetLanguage = () => {
        // First, check if the Google Translate API itself is loaded
        if (window.google && window.google.translate && window.google.translate.TranslateElement) {
          const selectElement = document.querySelector('#google_translate_element select');
          if (selectElement) {
            // Element found, attempt to set language
            if (selectElement.value !== langCode) {
              selectElement.value = langCode;
              const event = new Event('change');
              selectElement.dispatchEvent(event);
              console.log(`Language set to ${langCode} successfully.`);
            } else {
              console.log(`Language already set to ${langCode}. No change needed.`);
            }
            // Ensure UI is hidden after changing language
            hideGoogleTranslateElements();
          } else {
            // Select element not found, retry if attempts remain
            if (retries < MAX_RETRIES) {
              retries++;
              console.warn(`Google Translate select element not found (attempt ${retries}/${MAX_RETRIES}). Retrying...`);
              setTimeout(attemptSetLanguage, 200); // Reduced delay for faster retries
            } else {
              console.error('Google Translate select element still not found after maximum retries. Translation may not work.');
            }
          }
        } else {
          // Google Translate API not loaded yet, retry if attempts remain
          if (retries < MAX_RETRIES) {
            retries++;
            console.warn(`Google Translate API not fully loaded yet (attempt ${retries}/${MAX_RETRIES}). Retrying...`);
            setTimeout(attemptSetLanguage, 200); // Reduced delay for faster retries
          } else {
            console.error('Google Translate API not fully loaded after maximum retries. Translation may not work.');
          }
        }
      };

      // Ensure the Google Translate script is initiated if not already
      if (!window.googleTranslateElementInit) {
        console.warn('Google Translate script might not be loaded. Triggering manual load.');
        // This part should technically be covered by the window.load listener,
        // but it acts as a safeguard.
        const script = document.createElement('script');
        script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
        script.async = true;
        document.body.appendChild(script);
      }

      attemptSetLanguage(); // Start the language setting process
    };
  </script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>

</html>